[
["index.html", "MTXQCvX2 documentation Chapter 1 Welcome", " MTXQCvX2 documentation Christin Zasada 2018-10-26 Chapter 1 Welcome This documentation introduced to you how to use MTXQCvX2 in order to assess the quality of your GC-MS derived data, perform the determination of calibration curves and absolute quantification. It furthermore provides you two normalisation strategies and the calculation of quantities in, e.g., pmol/1e+6 cells or pmol/mg tissue. MTXQCvX2 does also enable the calculation of stable isotopic incorporation and the evaluation of the underlying data, the mass isotopomer distributions (MIDs). The tool has been set up to support the in-lab developed workflow for quantitative metabolomics experiments using the in-house developed software Maui for the annotation of data. MTXQCvX2 bridges the gap between quality control and first data post-processing / analysis of GC-MS derived data (MTXQCvX2_part1, MTXQCvX2_part2). Nevertheless MTXQCvX2 includes a module in order to integrate all kind of data provided in spreadsheet-format, e.g., derived from metmax, extracting required information and creating corresponding files (MTXQCvX2_part4). Both workflows are introduced in the distinct chapters including their required input parameter (chapter ??). Technical relevant information are summarised in chapter ??. "],
["intro.html", "Chapter 2 Introduction", " Chapter 2 Introduction Experimental and mathematical concepts have been introduced for the pulsed stable isotope resolved metabolomics (pSIRM) approach in (Pietzke et al. 2014). References "],
["init.html", "Chapter 3 MTXQCvX2_init", " Chapter 3 MTXQCvX2_init MTXQCvX2_init.Rmd - why and how to use it. Advantages of the project folder. "],
["maui.html", "Chapter 4 Workflow for Maui-annotation proejcts 4.1 Quick view 4.2 Input files 4.3 Annotation-file 4.4 Sample_extracts-file 4.5 Internal Standard", " Chapter 4 Workflow for Maui-annotation proejcts The following article describes briefly how to use MTXQCvX2 in case you used Maui for the annotation of your metabolomics project. It does not matter if you have performed an experiment including stable isotopes or if you just aim for the quantification of a few intermediates. A summary of the general workflow is shown below, followed by more detailed instructions explaining required input files. Check out the notes for hints and suggestions. In order to run smoothly through the overall procedure you should meet the following prerequisites: A succesfull Maui project Exported all required container (see ??) Sequence list and experimental conditions Extraction procedure and corresponding volumes, cell counts 4.1 Quick view Setup R-project and copy MTXQC-files1 Knit with parameter: MTXQC_init.Rmd Copy input files and rename ManualQuantTable.tsv Create annotation.csv and sample_extracts.csv files Define the internal standard2 Knit with parameter: MTXQC_ExperimentalSetup.Rmd Knit with parameter: MTXQC_part1.Rmd Knit with parameter: MTXQC_part2.Rmd If required, proceed with MTXQC_part3.Rmd - ManualValidation 4.2 Input files Input files for the MTXQCvX are generated by using the export functions implemented in Maui. Specific containers have to be exported and moved into their corresponding input folder. Follow the instructions which Maui container have to be exported described at 12.4.1.5. Certain circumstances might require the combination of multiple MAUI-projects into one MTXQC-project. This might be the case when you run the same samples in split and splitless mode on the machine or your experimental setup has been measured in multiple batches in order to avoid derivatisation effects. It is recommended to combine the input files derived from a different number of Maui projects beforehand. In that way you have to work with a single file CalculationFileData.csv containing all experimental data points The herein described process provides a quick way how to combine the exported files from different Maui projects. The script combine-sets.R saves all combined files into the correct input folder. Just update the folder and subfolder names. All the rest has been taken care of for you. Create in the MTXQC-project folder (e.g., psirm_glucose/) a new folder, e.g., raw-data Create subfolder for each MAUI-run in psirm_glucose/raw_data Copy the required input files into each subfolder Update the parameter of template file combine-sets.R file3 Execute the script and check the generated files Merged files have been generated and copied into the corresponding folder: psirm_glucose/input-folder/gc/... or psirm_glucose/input-folder/inc/... Copy the renamed tsv-files separately into input/quant/… 4.3 Annotation-file The annotation file relate file names with experimental conditions or specify quantification standards in your batch. Two columns - File and Type - are obligatory and have to be present in the annotation file. In the case of absence MTXQCvX_part1 stops processing and shows an error message. A quick way to generate an annotation file is described below: Copy the first row / header of quantMassAreaMatrix.csv file Paste &amp; transpose the content into a new Excel-File into column A Change Metabolite to File Remove the entry QuantMasses at the very end of the column A Add the column Type and specify each file either as sample or addQ1_dilution4 Add more columns specifying your experimental conditions, e.g., Cellline and Treatment …5 Save the content as csv-file in the psirm_glucose/input/... 4.4 Sample_extracts-file The sample_extracts.csv file helps to determine correct absolute quantities in the manner of pmol/1e+6 cells or pmol/mg tissue in the CalculationFileData.csv. This file requires two obligatory columns and have to be included: Extract_vol and Unit6. Please specify for each experimental condition the amount of extracted cells (count), tissue (mg) or volume of blood/plasme (ul) in the unit shown in the brackets. The names of the columns of the experimental conditions have to match up with the annotation file. Save the file in the folder psirm_glucose/input/.... If the defined experimental conditions do not match up with the annotation MTXQCvX2_part1.Rmd exit data processing. A template file can be modified and reused: inst/template_files/... 4.5 Internal Standard MTXQCvX2 allows the specification of project-specific internal extraction standards. The only thing you need to do is to define the corresponding compounds as an internal standard in the conversion_metabolite.csv file. To do so add InternalStandard in last column Standard. For an classical pSIRM experiment in the Kempa lab we are using cinnamic acid. The evaluation of this compound has been integrated into maui and peak areas are exported from a distinct container called cinAcid. The exported file has to be renamed to InternalStandard.csv and moved to psirm_glucose/input/gc/.... If you have used a different compound as an internal extraction standard you might need to extract the peak areas of this compound from the file quantPeakAreasMatrix.csv file and save it in the folder psirm_glucose/input/gc/InternalStandard.csv, respectively. Prerequisite - you annotated the compound in Maui. The report of MTXQCvX2_part1.Rmd includes the detected internal standard for each project. Check for the latest release: github.com/ChrisZasa/fluffy-adventure↩ see below InternalStandard↩ inst/template_files/…↩ see for further details additionalQuant↩ optimal: two-three parameter, max: four parameter. Consider possible combinations, e.g., HCT116-control, HCT116-BPTES↩ Define: count, mg or ul↩ "],
["metmax.html", "Chapter 5 Workflow for Metmax-extracted projects 5.1 You want to follow this … 5.2 Introduction 5.3 Quick view 5.4 Required input files derived from a ChromaToF/Metmax 5.5 Annotation-file 5.6 Sample_extracts-file 5.7 Conversion_metabolite.csv", " Chapter 5 Workflow for Metmax-extracted projects 5.1 You want to follow this … in case you have measured samples and quantification standards by GC-MS performed the annotation of intermediates in ChromaToF / vendor software exported all files into a txt-format containing information about metabolite names, peak area 5.2 Introduction This document describes how to use MTXQCvX2 in combination with metmax7. Historically, MTXQCvX2 has been developed and optimized for Maui-derived input files. The MTXQCvX2-part4.Rmd functions as a converter of metmax-derived files in order to create suitable input formats for MTXQCvX-part1. This module could also be used to convert tables derived from other programs as long as they are confirm with the herein described tables. Mandatory columns are referenced in the text. The general workflow of the NMTXQCvX2 project is briefly shown below in quick view. More detailed instructions are summarised in the following paragraphs. For more detailed explanations about the individual input parameter for each module of MTXQCvX2 please proceed to read the documentation about the individual modules and their knitting parameter. The relation of knitting parameter, input and output files are described in each section. 5.3 Quick view Generate input files: run MTXQC_part4.Rmd8 Setup R-project and copy MTXQC-files Knit with parameter: MTXQC_init.Rmd Copy input files into corresponding folders Create annotation.csv and sample_extracts.csv files9 Update metabolite names in conversion_metabolite.csv10 Define the internal standard and/or alkanes11 Knit with parameter: MTXQC_ExperimentalSetup.Rmd Knit with parameter: MTXQC_part1.Rmd Knit with parameter: MTXQC_part2.Rmd If required - proceed with MTXQC_part3.Rmd - ManualValidation 5.4 Required input files derived from a ChromaToF/Metmax If you need an introduction about how to use metmax - have a look at the separate documentation Metmax_intro. The chapter Workflows for Metmax-extracted data explains in detail how to use this module to generate suitable input files. Depending on your experiment you can select the kind of data that is extracted and transformed by the MTXQCvX_part4. 5.5 Annotation-file The annotation file relate file names with experimental conditions or specify quantification standards in your batch. Two columns - File and Type - are obligatory and have to be present in the annotation file. In the case of absence MTXQCvX_part1 stops processing and shows an error message. A quick way to generate an annotation file is described below: Copy all file names from a file of your choice Paste &amp; transpose the content into a new Excel-File into column A Give it the column name: File Optional: Remove the entry QuantMasses at the very end of the column A Add the column Type and specify each file either as sample or addQ1_dilution12 Add more columns specifying your experimental conditions, e.g., Cellline and Treatment …13 Save the content as csv-file in the psirm_glucose/input/... 5.6 Sample_extracts-file The sample_extracts.csv file helps to determine correct absolute quantities in the manner of pmol/1e+6 cells or pmol/mg tissue in the CalculationFileData.csv. This file requires two obligatory columns and have to be included: Extract_vol and Unit14. Please specify for each experimental condition the amount of extracted cells (count), tissue (mg) or volume of blood/plasme (ul) in the unit shown in the brackets. The names of the columns of the experimental conditions have to match up with the annotation file. Save the file in the folder psirm_glucose/input/.... If the defined experimental conditions do not match up with the annotation MTXQCvX2_part1.Rmd exit data processing. A template file can be modified and reused: inst/template_files/... 5.7 Conversion_metabolite.csv This file, saved in config_mtx/serves as a translational table. It defines alternative version of metabolite library names for the use in plotting your data. It is also used to define settings and standard classifications. Detailed information for each column of the file are shown here: REF 5.7.1 Match your annotation with library names Prior the analysis you need to match the names of your intermediates with the conversion_metabolite.csv file. You need to add the corresponding name for each intermediate in the column Metabolite_manual. General suggestion for naming conventions in ChromaToF: Metabolite_Derivate, optional in case of main- (MP) and byproducts (BP) Metabolite_Derivate_MP/BP. An example for both: Lactic acid_(2TMS) or Glucose_(1MEOX)(5TMS)_MP. If you have annotated intermediates that are not included so far in this table please follow the instructions how to extend conversion_metabolite.csv. 5.7.2 Define your internal standards and alkanes MTXQCvX2 allows the specification of project-specific internal standards. Corresponding compounds have to be marked as an internal standard in conversion_metabolite.csv by adding the tag InternalStandard in the column Standard. If you check the box - InternalStandard the module searches in your input file containing peak areas for the defined standard and extracts the information. It also generated the file InternalStandard.csv and stores it at psirm_glucose/input/gc/. In the same way alkanes are be defined in conversion_metabolite.csv. Each alkane has to be flag tagged with Alk in the column Standard. This gives you the opportunity to implement customized mixtures of alkanes in order to determine the retention index. MTXQCvX_part4 recognises the flag tag and generates based on peakarea-file Alcane_intensities.csv and saves it at psirm_glucose/input/gc/15. The in-lab approach considers nine alkanes from c10 to c36. Standard annotation includes an hashtag, e.g., #c10. If you use this annotation even Metmax would be able to determine the retention index. http://gmd.mpimp-golm.mpg.de/apps/metmax/default.htm↩ read here the instructions↩ Details further down this document↩ Column: Metabolite_manual↩ Also in conversion_metabolite.csv; see below paragraph Standards↩ see for further details additionalQuant↩ optimal: two-three parameter, max: four parameter. Consider possible combinations, e.g., HCT116-control, HCT116-BPTES↩ Define: count, mg or ul↩ It should be al_k_ane, I know, but Maui doesn’t…↩ "],
["mtxqcvx-experimentalsetup-rmd.html", "Chapter 6 MTXQCvX_experimentalSetup.Rmd", " Chapter 6 MTXQCvX_experimentalSetup.Rmd "],
["mtxqcvx-part1-rmd.html", "Chapter 7 MTXQCvX_part1.Rmd", " Chapter 7 MTXQCvX_part1.Rmd "],
["mtxqcvx-part2-rmd.html", "Chapter 8 MTXQCvX_part2.Rmd", " Chapter 8 MTXQCvX_part2.Rmd "],
["mtxqcvx-part3-rmd.html", "Chapter 9 MTXQCvX_part3.Rmd", " Chapter 9 MTXQCvX_part3.Rmd "],
["mtxqcvx-part4-rmd-metmax-parser.html", "Chapter 10 MTXQCvX_part4.Rmd - Metmax parser 10.1 This section explains … 10.2 Input files", " Chapter 10 MTXQCvX_part4.Rmd - Metmax parser 10.1 This section explains … what MTXQCvX_part4.Rmd does how do input files need to look like which files are generated what the distinct checkboxes mean This module provides the generation of suitable input files for MTXQCvX2 based on spreadsheet exported information by tools like metmax. M 10.2 Input files 10.2.1 Quantification - PeakAreas.csv16 In order to perform absolute quantification of You need a file containing all extracted peak areas for each metabolite and file17. The header of metmax-extracted files looks like shown below (see table 1). Please, remember to delete the second header row, representing the column loads for each file before saving as csv-file. Otherwise you end up with weird imported dataframes in R. Quantification masses have to be updated while processing in ChromaToF prior the export of the data e.g., with a reference search18 or using statistical compare. pSIRM experiments require the definition of pTop5 masses19 instead of top5 masses in the reference in order to take into account the shift of intensities induced by the application of stable isotopes20 name mass ri row.load file_1 file_2 file_x Lac 219 1051 0.76 15423 135444 465486 Pyr 174 1042 0.65 56978 46888 4354544 Cit 273 1805 0.99 1326 23321 132121 MTXQCvX_part4 takes care of the formatting and correct column names of the peak areas file and saves it21. MTXQCvX_part4 generates also the file PeakDensities-Chroma.csv22, in case you have selected the option to include sum of area normalisation while knitting this module. 10.2.2 Isotope incorporation - MIDs.csv23 In order to determine the incorporation of stable isotopes MTXQCvX2 requires as an input the mass isotopomer distributions (MIDs) for each intermediate and measurement24. Fragments for each intermediate have to be pre-defined in metmax at Tools/Options/metabolite masses. They can be imported25 or manually specified each by each. An example of the metmax output is shown in table 2. The output has to be saved as csv-file, including the deletion of the partial row column.load, respectively26. name mass ri row.load file_1 file_2 file_x Lac 219 1051 0.85 31026 5165829 5829 Lac 220 1051 0.85 3607 662277 277 Lac 221 1051 0.85 1222 111481 81 Lac 222 1051 0.85 188 1003494 10023 Lac 223 1051 0.85 0 33542 342 MTXQCvX_part4 calculates the stable isotope incorporation and exports DataMatrix.csv as well as pSIRM_SpectraData.csv27. The mathematics behind are outlined in (Pietzke et al. 2014) Important: Extracted MIDs have to match with defined mass couples for each metabolite in MTXQCvX228. Please refer for more details to vignettes/config_mtx-files. 10.2.3 Derivatisation efficiency - mz73.csv29 The extraction of intensities for the ion \\(m/z\\) 73 works analogous to the extraction of MIDs30. Mass ranges have to be defined for each intermediate for the mass 73 by defining starting and end mass with 73. MTXQCvX_part4 generates the file MassSum-73.csv31. Check inst\\template_files\\ for reference. Hopefully soon a new metmax button extracting specific intensities across the batch. References "],
["config.html", "Chapter 11 Configuration of MTXQCvX2 11.1 conversion_metabolite.csv 11.2 Metabolic profile 11.3 Defintion of intermediates 11.4 Declaration of standards", " Chapter 11 Configuration of MTXQCvX2 Herein explained are the customizable tables of the MTXQCvX2 universe. 11.1 conversion_metabolite.csv data = read.csv(&quot;config_mtx/conversion_metabolite.csv&quot;, TRUE, sep = &quot;;&quot;) colnames(data) ## [1] &quot;Metabolite_manual&quot; &quot;Metabolite&quot; &quot;Metabolite_short&quot; ## [4] &quot;Lettercode&quot; &quot;Q1_value&quot; &quot;Mass_Pos&quot; ## [7] &quot;SE_sel&quot; &quot;Q_sel&quot; &quot;nopsirm&quot; ## [10] &quot;Standards&quot; 11.2 Metabolic profile 11.3 Defintion of intermediates 11.4 Declaration of standards 11.4.1 Internal standard 11.4.2 Alkanes 11.4.3 quant1-values.csv 11.4.4 incorporation_calc.csv "],
["protocols.html", "Chapter 12 Protocols 12.1 Sample extraction 12.2 Sample derivatisation 12.3 GC-MS measurement 12.4 Data processing", " Chapter 12 Protocols 12.1 Sample extraction 12.2 Sample derivatisation 12.3 GC-MS measurement 12.4 Data processing 12.4.1 Processing for Maui annotation 12.4.1.1 Resampling 12.4.1.2 Combo-export 12.4.1.3 Maui quantification masses 12.4.1.4 MAUI pSIRM 12.4.1.5 Maui exports Input-Folder: gc Alcane_intensities.csv (Diagnostics/Export Alcane intensities) InternalStandard.csv32 MassSum-73.csv (Diagnostics/QC Mass Sum Export for mass 73) PeakDensities-Chroma.csv (Diagnostics/ExportPeakDensities) Input-Folder: quant ManualQuantTable.tsv - rename it - e.g., e18125cz.tsv3334 quantMassAreasMatrix.csv (Quantification export of samplesPeakGroups) Input-Folder: inc DataMatrix.csv (Export % Label of pSIRM-samplesPeakGroups) pSIRM_SpectraData.csv (pSIRM Spectra Export)35 12.4.2 Processing for Metmax data extraction 12.4.2.1 Resampling 12.4.2.2 1D-basic 12.4.2.3 Reference search 12.4.2.4 Export for Metmax 12.4.2.5 Data extraction see more details below↩ Location: Maui-project/export/QM-AbsoluteQuantification/…↩ C://Users/User-name/MauiProjects/…↩ Requires the selection of Natural_MIDs.txt↩ "],
["FAQ.html", "Chapter 13 Frequently Asked Questions 13.1 What are additional quantification standards 13.2 How do I extend conversion_metabolite.csv", " Chapter 13 Frequently Asked Questions 13.1 What are additional quantification standards 13.2 How do I extend conversion_metabolite.csv "],
["references.html", "References", " References "]
]
