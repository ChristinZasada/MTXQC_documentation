[
["index.html", "MTXQCvX2 documentation Chapter 1 Welcome", " MTXQCvX2 documentation Christin Zasada 2018-10-26 Chapter 1 Welcome This documentation introduced to you how to use MTXQCvX2 in order to assess the quality of your GC-MS derived data, perform the determination of calibration curves and absolute quantification. It furthermore provides you two normalisation strategies and the calculation of quantities in, e.g., pmol/1e+6 cells or pmol/mg tissue. MTXQCvX2 does also enable the calculation of stable isotopic incorporation and the evaluation of the underlying data, the mass isotopomer distributions (MIDs). The tool has been set up to support the in-lab developed workflow for quantitative metabolomics experiments using the in-house developed software Maui for the annotation of data. MTXQCvX2 bridges the gap between quality control and first data post-processing / analysis of GC-MS derived data (MTXQCvX2_part1, MTXQCvX2_part2). Nevertheless MTXQCvX2 includes a module in order to integrate all kind of data provided in spreadsheet-format, e.g., derived from metmax, extracting required information and creating corresponding files (MTXQCvX2_part4). Both workflows are introduced in the distinct chapters including their required input parameter (chapter ??). Technical relevant information are summarised in chapter ??. "],
["intro.html", "Chapter 2 Introduction", " Chapter 2 Introduction Experimental and mathematical concepts have been introduced for the pulsed stable isotope resolved metabolomics (pSIRM) approach in (Pietzke et al. 2014). References "],
["maui.html", "Chapter 3 Workflow for Maui-annotation proejcts 3.1 Read this in case 3.2 Quick view 3.3 Input files 3.4 Annotation-file 3.5 Sample_extracts-file 3.6 Internal Standard", " Chapter 3 Workflow for Maui-annotation proejcts 3.1 Read this in case you have run a Maui project exported all required container (see ??) you have a copy of sequence list and experimental conditions you know the extraction procedure The following article describes briefly how to use MTXQCvX2 in case you used Maui for the annotation of your metabolomics project. It does not matter if you have performed an experiment including stable isotopes or if you just aim for the quantification of a few intermediates. 3.2 Quick view Setup a new R-project and copy MTXQC template files and folders Knit with parameter: MTXQC_init.Rmd and create project folder, e.g., psirm_glucose Copy input files and rename ManualQuantTable.tsv (e18205cz.tsv) Create annotation.csv and sample_extracts.csv files Define the internal extraction standard Knit with parameter: MTXQC_ExperimentalSetup.Rmd Knit with parameter: MTXQC_part1.Rmd Knit with parameter: MTXQC_part2.Rmd If required, proceed with MTXQC_part3.Rmd for ManualValidation 3.3 Input files Three different kind of export functions have been implemented in Maui. These functions provide the export of the actual data into .csv or .tsv files that are directly usable as input files for MTXQCvX2. Please refer to section 14.3 how you perform the export and which containers have to be exported using what export function and where to copy them in psirm_glucose/input/. Certain circumstances might wish you to combine multiple MAUI-projects into one MTXQC-project. This might be the case when you run the same samples in split and splitless mode on the machine or your experimental setup has been measured in multiple batches in order to avoid derivatisation effects. It is highly recommended to combine the input files derived from a different Maui projects beforehand the analysis. In that way you have only to work with a single file CalculationFileData.csv1 containing all data of the your experiment. The herein described process provides a quick way how to combine the exported files from different Maui projects. The script combine-sets.R2 automatically saves all combined files into the correct input folder. Just update the folder and subfolder names. All the rest has been taken care of for you. Create in the MTXQC-project folder (e.g., psirm_glucose/) a new folder called raw-data Create a subfolder for each Maui-project in psirm_glucose/raw_data/... Copy into this folder all your Maui-derived input files altogether Update the parameter of combine-sets.R, meaning folder name definitions, file Execute the R script Merged files have been generated and copied into the corresponding folder: psirm_glucose/input-folder/gc/... or psirm_glucose/input-folder/inc/... Copy the renamed ManualQuantTable.tsv files of each Maui project into psirm_glucose/input/quant/... 3.4 Annotation-file The annotation file relate file names with experimental conditions or specify quantification standards in your batch. Two columns - File and Type - are obligatory and have to be present in the annotation file. In the case of their absence MTXQCvX_part1.Rmd stops processing and shows an error message. A quick way to generate an annotation file is described below: Copy the first row / header of quantMassAreaMatrix.csv file Paste &amp; transpose the content into a new Excel-File into column A Change the first entry: Metabolite -&gt; File Remove the entry QuantMasses at the very end of the column A Add the column Type and specify each file either as sample or addQ1_dilution3 Add more columns specifying your experimental conditions, e.g., Cellline and Treatment4 Save the content as csv-file in the psirm_glucose/input/... 3.5 Sample_extracts-file The sample_extracts.csv file is required in order to determine automatically absolute quantities in the manner of pmol/1e+6 cells or pmol/mg tissue in the CalculationFileData.csv. This file requires two obligatory columns - Extract_vol and Unit5. Please specify for each experimental condition the amount of extracted cells (count), tissue (mg) or volume of blood/plasme (ul) in the unit shown in the brackets. The names of the columns of the experimental conditions have to match up with the annotation file. Save the file in the folder psirm_glucose/input/.... If the defined experimental conditions do not match up with the annotation MTXQCvX2_part1.Rmd exit data processing. A template file is saved for review and usage at inst/template_files/... 3.6 Internal Standard MTXQCvX2 allows the specification of project-specific internal extraction standards. The only thing you need to do is to define the corresponding compounds as an internal standard in the conversion_metabolite.csv file. To do so, add InternalStandard to the compound in last column Standard. For an classical pSIRM experiment in the Kempa lab we are using cinnamic acid. The evaluation of this compound has been integrated in Maui. Peak areas of cinnamic acid are exported from a distinct container called cinAcid. The exported file has to be renamed to InternalStandard.csv though and moved to psirm_glucose/input/gc/.... If you have used a different compound as an internal extraction standard you might need to extract the peak areas of this compound from the Maui export file quantPeakAreasMatrix.csv file and save it in the folder psirm_glucose/input/gc/InternalStandard.csv, respectively. Prerequisite - you have annotated the compound in Maui. The report of MTXQCvX2_part1.Rmd includes the defined internal standard for each project in a message. stored in psirm_glucose/output/quant/...↩ inst/template_files/…↩ see for further details additionalQuant↩ optimal: two-three parameter, max: four parameter. Consider possible combinations, e.g., HCT116-control, HCT116-BPTES↩ Define: count, mg or ul↩ "],
["metmax.html", "Chapter 4 Workflow for Metmax-extracted projects 4.1 You want to follow this … 4.2 Introduction 4.3 Quick view 4.4 Input files 4.5 Annotation-file 4.6 Sample_extracts-file 4.7 Update metabolite names in conversion_metabolite.csv", " Chapter 4 Workflow for Metmax-extracted projects 4.1 You want to follow this … in case you have measured samples and quantification standards by GC-MS performed the annotation of intermediates in ChromaToF or vendor software exported all information into .txt files used metmax to extract peak areas / mass isotopomer distributions (MIDs) 4.2 Introduction This document describes how to use MTXQCvX2 in combination with metmax6. Historically, MTXQCvX2 has been developed and optimized for Maui-derived input files. The MTXQCvX2-part4.Rmd functions as a converter of metmax-derived files in order to create suitable input formats for MTXQCvX-part1.Rmd. This module could also be used to convert tables derived from other programs as long as they are stick with the herein described table formats. Mandatory columns are referenced in the text for each kind of input file. The general workflow of the NMTXQCvX2 project is briefly shown below in quick view. More detailed instructions are summarised in the following paragraphs. For more detailed explanations about the individual input parameter for each module of MTXQCvX2 please proceed to read the documentation about the individual modules and their knitting parameter. The relation of knitting parameter, input and output files are described in each section. 4.3 Quick view Generate input files: run MTXQC_part4.Rmd7 Setup R-project and copy MTXQC-files Knit with parameter: MTXQC_init.Rmd Copy input files into corresponding folders Create annotation.csv and sample_extracts.csv files8 Update metabolite names in conversion_metabolite.csv9 Define the internal standard and/or alkanes10 Knit with parameter: MTXQC_ExperimentalSetup.Rmd Knit with parameter: MTXQC_part1.Rmd Knit with parameter: MTXQC_part2.Rmd If required - proceed with MTXQC_part3.Rmd for ManualValidation 4.4 Input files If you need an introduction about how to use metmax - have a look at the separate documentation Metmax_intro. The chapter ?? MTXQCvX_part4 explains in detail how to use this module to generate suitable input files. 4.5 Annotation-file The annotation file relate file names with experimental conditions or specify quantification standards in your batch. Two columns - File and Type - are obligatory and have to be present in the annotation file. In the case of their absence MTXQCvX_part1.Rmd stops processing and shows an error message. A quick way to generate an annotation file is described below: Copy all file names from a file of your choice Paste &amp; transpose the content into a new Excel-File into column A Call column A -&gt; File Optional: Remove any non-file name entry in this column Add the column Type and specify each file either as sample, Q1_diluation, ,addQ1_dilution11 Add more columns specifying your experimental conditions, e.g., Cellline and Treatment12 Save the content as csv-file in the psirm_glucose/input/... 4.6 Sample_extracts-file The sample_extracts.csv file is required in order to determine automatically absolute quantities in the manner of pmol/1e+6 cells or pmol/mg tissue in the CalculationFileData.csv. This file requires two obligatory columns - Extract_vol and Unit13. Please specify for each experimental condition the amount of extracted cells (count), tissue (mg) or volume of blood/plasme (ul) in the unit shown in the brackets. The names of the columns of the experimental conditions have to match up with the annotation file. Save the file in the folder psirm_glucose/input/.... If the defined experimental conditions do not match up with the annotation MTXQCvX2_part1.Rmd exit data processing. A template file is saved for review and usage at inst/template_files/... 4.7 Update metabolite names in conversion_metabolite.csv The file conversion_metabolite.csv, saved in config_mtx/, serves as a kind of translational table. It defines alternative version of metabolite library names that come in handy to plot data using shorter metabolite names. This file is also used to define settings and standard classifications. Detailed information for each column of the file are shown here: REF 4.7.1 Match your annotation with library names Prior the analysis you need to match the names of your intermediates with the conversion_metabolite.csv file. You need to update or add the corresponding name for each intermediate in the column Metabolite_manual. General suggestion for naming conventions in ChromaToF: Metabolite_Derivate, e.g., Lactic acid_(2TMS). In case of the presence of main- (MP) and byproducts (BP) use: Metabolite_Derivate_MP/BP, e.g., Glucose_(1MEOX)(5TMS)_MP. If you have annotated intermediates that are not included so far in this table please follow the instructions how to extend conversion_metabolite.csv.REF 4.7.2 Define your internal standards and alkanes MTXQCvX2 allows the specification of project-specific internal standards. Corresponding compounds have to be marked as an internal standard in conversion_metabolite.csv by adding the tag InternalStandard in the column Standard. If you check the box - InternalStandard in the parameter selection for MTXQCvX2_part4.Rmd the module searches in your input file for peak areas of the defined standard and extracts the information. It also generates the file InternalStandard.csv and stores it at psirm_glucose/input/gc/.... In the same way alkanes are defined in conversion_metabolite.csv. Each alkane has to be flag tagged with Alk in the column Standard. This gives you the opportunity to implement customized mixtures of alkanes in order to determine the retention index. MTXQCvX_part4.Rmd recognises the flag tag and generates Alcane_intensities.csv based on your input file containing peak areas and saves it in psirm_glucose/input/gc/...14. The in-lab protocol considers nine alkanes from c10 to c36. Standard annotation includes an hashtag, e.g., #c10. If you use this annotation even Metmax would be able to determine the retention index. http://gmd.mpimp-golm.mpg.de/apps/metmax/default.htm↩ read here the instructions↩ Details further down this document↩ Column: Metabolite_manual↩ Also in conversion_metabolite.csv; see below paragraph Standards↩ see for further details additionalQuant↩ optimal: two-three parameter, max: four parameter. Consider possible combinations, e.g., HCT116-control, HCT116-BPTES↩ Define: count, mg or ul↩ It should be alkane, I know, but Maui doesn’t, unfortunately…↩ "],
["init.html", "Chapter 5 MTXQCvX2_init", " Chapter 5 MTXQCvX2_init MTXQCvX2_init.Rmd - why and how to use it. Advantages of the project folder. "],
["ExpSetup.html", "Chapter 6 MTXQCvX_experimentalSetup.Rmd", " Chapter 6 MTXQCvX_experimentalSetup.Rmd "],
["part1.html", "Chapter 7 MTXQCvX_part1.Rmd", " Chapter 7 MTXQCvX_part1.Rmd "],
["part2.html", "Chapter 8 MTXQCvX_part2.Rmd", " Chapter 8 MTXQCvX_part2.Rmd "],
["mtxqcvx-part3-rmd.html", "Chapter 9 MTXQCvX_part3.Rmd", " Chapter 9 MTXQCvX_part3.Rmd "],
["mtxqcvx-part4-rmd-metmax-parser.html", "Chapter 10 MTXQCvX_part4.Rmd - Metmax parser 10.1 This section explains … 10.2 Input files", " Chapter 10 MTXQCvX_part4.Rmd - Metmax parser 10.1 This section explains … what MTXQCvX_part4.Rmd does how do input files need to look like which files are generated what the distinct checkboxes mean This module provides the generation of suitable input files for MTXQCvX2 based on spreadsheet exported information by tools like metmax. M 10.2 Input files 10.2.1 Quantification - PeakAreas.csv15 In order to perform absolute quantification of You need a file containing all extracted peak areas for each metabolite and file16. The header of metmax-extracted files looks like shown below (see table 1). Please, remember to delete the second header row, representing the column loads for each file before saving as csv-file. Otherwise you end up with weird imported dataframes in R. Quantification masses have to be updated while processing in ChromaToF prior the export of the data e.g., with a reference search17 or using statistical compare. pSIRM experiments require the definition of pTop5 masses18 instead of top5 masses in the reference in order to take into account the shift of intensities induced by the application of stable isotopes19 name mass ri row.load file_1 file_2 file_x Lac 219 1051 0.76 15423 135444 465486 Pyr 174 1042 0.65 56978 46888 4354544 Cit 273 1805 0.99 1326 23321 132121 MTXQCvX_part4 takes care of the formatting and correct column names of the peak areas file and saves it20. MTXQCvX_part4 generates also the file PeakDensities-Chroma.csv21, in case you have selected the option to include sum of area normalisation while knitting this module. 10.2.2 Isotope incorporation - MIDs.csv22 In order to determine the incorporation of stable isotopes MTXQCvX2 requires as an input the mass isotopomer distributions (MIDs) for each intermediate and measurement23. Fragments for each intermediate have to be pre-defined in metmax at Tools/Options/metabolite masses. They can be imported24 or manually specified each by each. An example of the metmax output is shown in table 2. The output has to be saved as csv-file, including the deletion of the partial row column.load, respectively25. name mass ri row.load file_1 file_2 file_x Lac 219 1051 0.85 31026 5165829 5829 Lac 220 1051 0.85 3607 662277 277 Lac 221 1051 0.85 1222 111481 81 Lac 222 1051 0.85 188 1003494 10023 Lac 223 1051 0.85 0 33542 342 MTXQCvX_part4 calculates the stable isotope incorporation and exports DataMatrix.csv as well as pSIRM_SpectraData.csv26. The mathematics behind are outlined in (Pietzke et al. 2014) Important: Extracted MIDs have to match with defined mass couples for each metabolite in MTXQCvX227. Please refer for more details to vignettes/config_mtx-files. 10.2.3 Derivatisation efficiency - mz73.csv28 The extraction of intensities for the ion \\(m/z\\) 73 works analogous to the extraction of MIDs29. Mass ranges have to be defined for each intermediate for the mass 73 by defining starting and end mass with 73. MTXQCvX_part4 generates the file MassSum-73.csv30. Check inst\\template_files\\ for reference. Hopefully soon a new metmax button extracting specific intensities across the batch. References "],
["config.html", "Chapter 11 Configuration of MTXQCvX2 11.1 File: conversion_metabolite.csv 11.2 File: Metabolic profile 11.3 File: quant1-values.csv 11.4 File: incorporation_calc.csv", " Chapter 11 Configuration of MTXQCvX2 Herein explained are the customizable tables of the MTXQCvX2 universe. 11.1 File: conversion_metabolite.csv data = read.csv(&quot;config_mtx/conversion_metabolite.csv&quot;, TRUE, sep = &quot;;&quot;) colnames(data) ## [1] &quot;Metabolite_manual&quot; &quot;Metabolite&quot; &quot;Metabolite_short&quot; ## [4] &quot;Lettercode&quot; &quot;Q1_value&quot; &quot;Mass_Pos&quot; ## [7] &quot;SE_sel&quot; &quot;Q_sel&quot; &quot;nopsirm&quot; ## [10] &quot;Standards&quot; 11.1.1 Definition of standards 11.1.2 Adding further intermediates 11.2 File: Metabolic profile 11.3 File: quant1-values.csv data = read.csv(&quot;config_mtx/quant1_values.csv&quot;, TRUE) head(data) ## Letter_Derivate Quant1_v4 Quant1_v3 ## 1 2HG 57270 57270 ## 2 2OG 34220 34220 ## 3 3PGA 43480 43480 ## 4 A 7400 7400 ## 5 Adenosine 18710 18710 ## 6 Ala 134700 134700 11.4 File: incorporation_calc.csv "],
["protocols-sample-extraction.html", "Chapter 12 Protocols - Sample extraction 12.1 Cell extracts 12.2 Tissue samples 12.3 Blood samples", " Chapter 12 Protocols - Sample extraction 12.1 Cell extracts Materials: cell culture dishes (10 cm), max. confluency 75% washing buffer (Hepes, NaCl, ph 7.4) 50% MeOH, ice-cold 2 mg/ml cinnamic acid chloroform 15 ml falcon tubes cell lifter Procedure: prepare cell culture dishes accordingly to your experimental conditions discard cell culture media add quickly 5 ml of washing buffer, discard it add very immediately 5 ml ice-cold 50% MeOH suppl. 2 ug/ul cinnamic acid detach cells using cell lifter collect and transfer cell extract into 15 ml falcon store falcons until further processing on ice add 1 ml chloroform incube for 60 min at cold temperatures (4 C) on rotary or thermo shaker centrifuge at max speed for 10 min, cold temperatures collect polar and lipid phases into fresh falcons / tubes dry under vacuum In order to generate technical backups: resuspend dried extracts in 600 ul 20% MeOH shake at cold temperature on thermo shaker for 30 min split volumes into equal parts in fresh eppendorf tubes dry under vacuum Suggested cell density: \\(2-3e+6\\) cells / extract. 12.2 Tissue samples Materials: Methanol:Chloroform:Water (MCW) in ratio 5:2:1 2 mg/mg cinnamic acid in MeOH ddH20 eppendorf tubes tissue lyzer / pulverizer Procedure: snap-freeze tissue samples pulverize samples aliquote 50 mg of tissue powder add 1.5 ml of MCW (suppl. with cinnamic acid final conc. 2 ug/ul) shake for 60 min on rotary shaker at cold temperature (4 C) add 0.5 ml ddH20 for phase separation centrifuge maximum speed, 10 min, cold temperatures collect polar and lipid phases in fresh vessels dry under vacuum 12.3 Blood samples Material: Methanol:Chloroform:Water (MCW) in ratio 5:2:1 2 mg/mg cinnamic acid in MeOH ddH20 eppendorf tubes Procedure: give 20 ul blood / sera directly into 1 ml MCW to avoid lumps in case of lumps sonicate samples shake samples at 4 C for 800 rpm for 60 min add 500 ul ddH20 and vortex shortly spin down at 4 C at max speed for 10 min aliquote polar phase into 2-3 times 500 ul in 1.5 ml tubes aliquote lipid phase 2 times in 100 ul lower in 1.5 ml eppi dry in SpeedVac (35 C) "],
["protocols-gc-tof-ms-measurement.html", "Chapter 13 Protocols - GC-ToF-MS measurement 13.1 Sample derivatisation 13.2 GC-MS measurement", " Chapter 13 Protocols - GC-ToF-MS measurement 13.1 Sample derivatisation Materials: Methoxamine (MeOx) Pyridine (open under the hood only!) MSTFA Alkane mix (c10-c36) in Hexane chromacol vials and caps (big, small) Mixtures: Solvent 1: 40 mg MeOx in 1 ml Pyridine Solvent 2: 10 ul Alkane mix in 1 ml MSTFA Volumens of both solvents are shown for standard (small vol.) procedures. Procedure: make sure samples are completly dry (1 h speed vac) add 20 ul (10 ul) of solvent 1 / sample incubate on rotary shaker, 30 C, for 60 min add 80 ul (25 ul) of solvent 2 / sample incubaate on rotary shaker, 37 C, for 90 min centrifuge to spin down insoluble materials prepare aliquotes three times 28 ul or two times 15 ul (small glass vials) keep on room temperature until measurement (max. 10 days) 13.2 GC-MS measurement needs to be written "],
["mauiproc.html", "Chapter 14 Data processing - MAUI 14.1 Processing In ChromaToF 14.2 Maui notes 14.3 Maui exports", " Chapter 14 Data processing - MAUI 14.1 Processing In ChromaToF Create a new folder in ChromaToF Pegasus Acquired Samples and import your files. The processing of files for Maui-assisted annotation is a two step process. Therefore two data processing methods have to be set up and applied to all files. 14.1.1 Resampling Resampling is commonly applied and results into a data transformation enabling an improved detection of low abundant peaks and a reduction of noise. (Maybe include an example?) The processing methods requires to tick Export of .... Subsequently, you are asked to define an output folder and the following paramter: Reduction rate: 4 Beginning to end of the file .peg-files 14.1.2 Combo-export (.cdf &amp; .csv) Re-import the generated .peg-files into a subfolder and apply the following data processing method. Activate the box asddasd and define for both file types the following parameter. .cdf-file: export directory .csv-file: export directory 14.2 Maui notes 14.3 Maui exports With initiation of a project folder via MTXQCvX2_init.Rmd you created an input-folder containing three subfolders: gc, inc, quant. In the following all files that should be exported and copied into these folders are described in detail. 14.3.1 input/gc/... Four input files are exported in order to assess the quality of the GC-MS performance of the run. The menue Diagnostics is selectable via right click on your Maui project name. Only the cinnamic acid peak areas are exported via the function Export Quantification with right click on the actual container. Exported Files: Alcane_intensities.csv - Diagnostics/Export Alcane intensities InternalStandard.csv - cinAcid container, Export quantification, rename! MassSum-73.csv - Diagnostics/QC Mass Sum Export; enter: 73 for m/z 73 PeakDensities-Chroma.csv - Diagnostics/ExportPeakDensities 14.3.2 input/quant/... Only one container has to be exported and contains the peak areas of each metabolite and measurement. Keep in mind that you should have uploaded pTop5 mass list for the correct determination of peak areas in case of labeling with stable isotopes. A further note - Maui performs absolute quantification and stores values in the samplePeakGroups-QMQ container. These quantities are determined by polynominal regression, and not linear regression. The file ManualQuantTable.tsv is automatically generated by Maui during processing the absolute quantification. Exported Files: ManualQuantTable.tsv - location: Maui-project/export/QM-AbsoluteQuantification/...31 quantMassAreasMatrix.csv - Quantification export of the container samplesPeakGroups 14.3.3 input/inc/... This exports are only required in case of an experiment including the application of stable isotopes. It´s this the case you should have performed two things: Used the optional upload of pTop5 mass list Go through the pSIRM workflow in Maui Exported Files: DataMatrix.csv - Export % Label of container pSIRM-samplesPeakGroups pSIRM_SpectraData.csv - pSIRM Spectra Export of container pSIRM-samplesPeakGroups32 Don´t forget to rename it - e.g., e17123cz↩ Requires the selection of Natural_MIDs.txt↩ "],
["metmaxexport.html", "Chapter 15 Data Processing - Metmax 15.1 Resampling 15.2 1D-basic 15.3 Reference search 15.4 Export for Metmax 15.5 Data extraction with Metmax", " Chapter 15 Data Processing - Metmax 15.1 Resampling 15.2 1D-basic 15.3 Reference search 15.4 Export for Metmax 15.5 Data extraction with Metmax 15.5.1 Peak areas 15.5.2 MIDs "],
["references.html", "References", " References "],
["FAQ.html", "Chapter 16 Frequently Asked Questions 16.1 What are additional quantification standards 16.2 How do I extend conversion_metabolite.csv", " Chapter 16 Frequently Asked Questions 16.1 What are additional quantification standards 16.2 How do I extend conversion_metabolite.csv "]
]
