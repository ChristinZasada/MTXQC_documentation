<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>MTXQCvX2 documentation</title>
  <meta name="description" content="This is the start of the official MTXQCvX2 manual.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="MTXQCvX2 documentation" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the start of the official MTXQCvX2 manual." />
  <meta name="github-repo" content="chriszasa/MTXQC_documentation" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="MTXQCvX2 documentation" />
  
  <meta name="twitter:description" content="This is the start of the official MTXQCvX2 manual." />
  

<meta name="author" content="Christin Zasada">


<meta name="date" content="2018-10-24">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="universe.html">
<link rel="next" href="config.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The MTXQC documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="universe.html"><a href="universe.html"><i class="fa fa-check"></i><b>3</b> MTXQCvX2 modules</a><ul>
<li class="chapter" data-level="3.1" data-path="universe.html"><a href="universe.html#mtxqcvx_init.rmd"><i class="fa fa-check"></i><b>3.1</b> MTXQCvX_init.Rmd</a></li>
<li class="chapter" data-level="3.2" data-path="universe.html"><a href="universe.html#mtxqcvx_experimentalsetup.rmd"><i class="fa fa-check"></i><b>3.2</b> MTXQCvX_experimentalSetup.Rmd</a></li>
<li class="chapter" data-level="3.3" data-path="universe.html"><a href="universe.html#mtxqcvx_part1"><i class="fa fa-check"></i><b>3.3</b> MTXQCvX_part1</a></li>
<li class="chapter" data-level="3.4" data-path="universe.html"><a href="universe.html#mtxqcvx_part2---post-processing"><i class="fa fa-check"></i><b>3.4</b> MTXQCvX_part2 - Post-processing</a></li>
<li class="chapter" data-level="3.5" data-path="universe.html"><a href="universe.html#mtxqcvx_part3---manualvalidation"><i class="fa fa-check"></i><b>3.5</b> MTXQCvX_part3 - ManualValidation</a></li>
<li class="chapter" data-level="3.6" data-path="universe.html"><a href="universe.html#mtxqcvx_part4---metmax-parser"><i class="fa fa-check"></i><b>3.6</b> MTXQCvX_part4 - Metmax parser</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflows.html"><a href="workflows.html"><i class="fa fa-check"></i><b>4</b> Workflows for MTXQCvX2</a><ul>
<li class="chapter" data-level="4.1" data-path="workflows.html"><a href="workflows.html#maui"><i class="fa fa-check"></i><b>4.1</b> Maui</a><ul>
<li class="chapter" data-level="4.1.1" data-path="workflows.html"><a href="workflows.html#quick-view"><i class="fa fa-check"></i><b>4.1.1</b> Quick view</a></li>
<li class="chapter" data-level="4.1.2" data-path="workflows.html"><a href="workflows.html#container"><i class="fa fa-check"></i><b>4.1.2</b> Input files derived from a single Maui-Project</a></li>
<li class="chapter" data-level="4.1.3" data-path="workflows.html"><a href="workflows.html#multiple-maui-projects"><i class="fa fa-check"></i><b>4.1.3</b> Multiple MAUI-projects</a></li>
<li class="chapter" data-level="4.1.4" data-path="workflows.html"><a href="workflows.html#annotation-file"><i class="fa fa-check"></i><b>4.1.4</b> Annotation-file</a></li>
<li class="chapter" data-level="4.1.5" data-path="workflows.html"><a href="workflows.html#sample_extracts-file"><i class="fa fa-check"></i><b>4.1.5</b> Sample_extracts-file</a></li>
<li class="chapter" data-level="4.1.6" data-path="workflows.html"><a href="workflows.html#internal-standard"><i class="fa fa-check"></i><b>4.1.6</b> Internal Standard</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="workflows.html"><a href="workflows.html#metmax"><i class="fa fa-check"></i><b>4.2</b> Metmax</a><ul>
<li class="chapter" data-level="4.2.1" data-path="workflows.html"><a href="workflows.html#quick-view-1"><i class="fa fa-check"></i><b>4.2.1</b> Quick view</a></li>
<li class="chapter" data-level="4.2.2" data-path="workflows.html"><a href="workflows.html#input-files-derived-from-a-chromatofmetmax-project"><i class="fa fa-check"></i><b>4.2.2</b> Input files derived from a ChromaToF/Metmax-Project</a></li>
<li class="chapter" data-level="4.2.3" data-path="workflows.html"><a href="workflows.html#further-required-input-files"><i class="fa fa-check"></i><b>4.2.3</b> Further required input-files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="config.html"><a href="config.html"><i class="fa fa-check"></i><b>5</b> Configuration of MTXQCvX2</a><ul>
<li class="chapter" data-level="5.1" data-path="config.html"><a href="config.html#conversion_metabolite.csv"><i class="fa fa-check"></i><b>5.1</b> conversion_metabolite.csv</a></li>
<li class="chapter" data-level="5.2" data-path="config.html"><a href="config.html#metabolic-profile"><i class="fa fa-check"></i><b>5.2</b> Metabolic profile</a></li>
<li class="chapter" data-level="5.3" data-path="config.html"><a href="config.html#defintion-of-intermediates"><i class="fa fa-check"></i><b>5.3</b> Defintion of intermediates</a></li>
<li class="chapter" data-level="5.4" data-path="config.html"><a href="config.html#declaration-of-standards"><i class="fa fa-check"></i><b>5.4</b> Declaration of standards</a><ul>
<li class="chapter" data-level="5.4.1" data-path="config.html"><a href="config.html#internal-standard-1"><i class="fa fa-check"></i><b>5.4.1</b> Internal standard</a></li>
<li class="chapter" data-level="5.4.2" data-path="config.html"><a href="config.html#alkanes"><i class="fa fa-check"></i><b>5.4.2</b> Alkanes</a></li>
<li class="chapter" data-level="5.4.3" data-path="config.html"><a href="config.html#quant1-values.csv"><i class="fa fa-check"></i><b>5.4.3</b> quant1-values.csv</a></li>
<li class="chapter" data-level="5.4.4" data-path="config.html"><a href="config.html#incorporation_calc.csv"><i class="fa fa-check"></i><b>5.4.4</b> incorporation_calc.csv</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="protocols.html"><a href="protocols.html"><i class="fa fa-check"></i><b>6</b> Protocols</a><ul>
<li class="chapter" data-level="6.1" data-path="protocols.html"><a href="protocols.html#sample-extraction"><i class="fa fa-check"></i><b>6.1</b> Sample extraction</a></li>
<li class="chapter" data-level="6.2" data-path="protocols.html"><a href="protocols.html#sample-derivatisation"><i class="fa fa-check"></i><b>6.2</b> Sample derivatisation</a></li>
<li class="chapter" data-level="6.3" data-path="protocols.html"><a href="protocols.html#gc-ms-measurement"><i class="fa fa-check"></i><b>6.3</b> GC-MS measurement</a></li>
<li class="chapter" data-level="6.4" data-path="protocols.html"><a href="protocols.html#data-processing"><i class="fa fa-check"></i><b>6.4</b> Data processing</a><ul>
<li class="chapter" data-level="6.4.1" data-path="protocols.html"><a href="protocols.html#processing-for-maui-annotation"><i class="fa fa-check"></i><b>6.4.1</b> Processing for Maui annotation</a><ul>
<li class="chapter" data-level="6.4.1.1" data-path="protocols.html"><a href="protocols.html#resampling"><i class="fa fa-check"></i><b>6.4.1.1</b> Resampling</a></li>
<li class="chapter" data-level="6.4.1.2" data-path="protocols.html"><a href="protocols.html#combo-export"><i class="fa fa-check"></i><b>6.4.1.2</b> Combo-export</a></li>
<li class="chapter" data-level="6.4.1.3" data-path="protocols.html"><a href="protocols.html#maui-quantification-masses"><i class="fa fa-check"></i><b>6.4.1.3</b> Maui quantification masses</a></li>
<li class="chapter" data-level="6.4.1.4" data-path="protocols.html"><a href="protocols.html#maui-psirm"><i class="fa fa-check"></i><b>6.4.1.4</b> MAUI pSIRM</a></li>
<li class="chapter" data-level="6.4.1.5" data-path="protocols.html"><a href="protocols.html#maui-exports"><i class="fa fa-check"></i><b>6.4.1.5</b> Maui exports</a></li>
</ul></li>
<li class="chapter" data-level="6.4.2" data-path="protocols.html"><a href="protocols.html#processing-for-metmax-data-extraction"><i class="fa fa-check"></i><b>6.4.2</b> Processing for Metmax data extraction</a><ul>
<li class="chapter" data-level="6.4.2.1" data-path="protocols.html"><a href="protocols.html#resampling-1"><i class="fa fa-check"></i><b>6.4.2.1</b> Resampling</a></li>
<li class="chapter" data-level="6.4.2.2" data-path="protocols.html"><a href="protocols.html#d-basic"><i class="fa fa-check"></i><b>6.4.2.2</b> 1D-basic</a></li>
<li class="chapter" data-level="6.4.2.3" data-path="protocols.html"><a href="protocols.html#reference-search"><i class="fa fa-check"></i><b>6.4.2.3</b> Reference search</a></li>
<li class="chapter" data-level="6.4.2.4" data-path="protocols.html"><a href="protocols.html#export-for-metmax"><i class="fa fa-check"></i><b>6.4.2.4</b> Export for Metmax</a></li>
<li class="chapter" data-level="6.4.2.5" data-path="protocols.html"><a href="protocols.html#data-extraction"><i class="fa fa-check"></i><b>6.4.2.5</b> Data extraction</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="FAQ.html"><a href="FAQ.html"><i class="fa fa-check"></i><b>7</b> Frequently Asked Questions</a><ul>
<li class="chapter" data-level="7.1" data-path="FAQ.html"><a href="FAQ.html#what-are-additional-quantification-standards"><i class="fa fa-check"></i><b>7.1</b> What are additional quantification standards</a></li>
<li class="chapter" data-level="7.2" data-path="FAQ.html"><a href="FAQ.html#how-do-i-extend-conversion_metabolite.csv"><i class="fa fa-check"></i><b>7.2</b> How do I extend conversion_metabolite.csv</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MTXQCvX2 documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="workflows" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Workflows for MTXQCvX2</h1>
<div id="maui" class="section level2">
<h2><span class="header-section-number">4.1</span> Maui</h2>
<p>The following article describes briefly how to use MTXQCvX2 in case you used Maui for the annotation of your metabolomics project. It does not matter if you have performed an experiment including stable isotopes or if you just aim for the quantification of a few intermediates.</p>
<p>A summary of the general workflow is shown below, followed by more detailed instructions explaining required input files. Check out the notes for hints and suggestions.</p>
<p>In order to run smoothly through the overall procedure you should meet the following prerequisites:</p>
<ul>
<li>A succesfull Maui project</li>
<li>Exported all required container (see <a href="workflows.html#container">4.1.2</a>)</li>
<li>Sequence list and experimental conditions</li>
<li>Extraction procedure and corresponding volumes, cell counts</li>
</ul>
<div id="quick-view" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Quick view</h3>
<ol style="list-style-type: decimal">
<li>Setup R-project and copy MTXQC-files<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></li>
<li>Knit with parameter:$MTXQC_init.Rmd</li>
<li>Copy input files</li>
<li>Create annotation.csv and sample_extracts.csv files</li>
<li>Define the internal standard<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></li>
<li>Knit with parameter: MTXQC_ExperimentalSetup.Rmd$</li>
<li>Knit with parameter: MTXQC_part1.Rmd</li>
<li>Knit with parameter: MTXQC_part2.Rmd</li>
<li>If required - proceed with ManualValidation</li>
</ol>
</div>
<div id="container" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Input files derived from a single Maui-Project</h3>
<ol style="list-style-type: decimal">
<li>Input-Folder: gc</li>
</ol>
<ul>
<li>Alcane_intensities.csv (Diagnostics/Export Alcane intensities)</li>
<li>InternalStandard.csv<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a></li>
<li>MassSum-73.csv (Diagnostics/QC Mass Sum Export for mass 73)</li>
<li>PeakDensities-Chroma.csv (Diagnostics/ExportPeakDensities)</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Input-Folder: quant</li>
</ol>
<ul>
<li>ManualQuantTable.tsv - <strong>rename it</strong> - e.g., e18125cz.tsv<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a><a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a></li>
<li>quantMassAreasMatrix.csv (Quantification export of samplesPeakGroups)</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Input-Folder: inc</li>
</ol>
<ul>
<li>DataMatrix.csv (Export % Label of pSIRM-samplesPeakGroups)</li>
<li>pSIRM_SpectraData.csv (pSIRM Spectra Export)<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a></li>
</ul>
</div>
<div id="multiple-maui-projects" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Multiple MAUI-projects</h3>
<p>Certain circumstances might require the combination of multiple MAUI-projects into one MTXQC-project. This might be the case when you run the same samples in split and splitless or your experimental setup has been measured in multiple batches in order to avoid derivatisation effects.</p>
<ol style="list-style-type: decimal">
<li>Create in the MTXQC-project folder (e.g., <code>psirm_glucose/</code>) a new folder, e.g., <code>raw-data</code></li>
<li>Create subfolder for each MAUI-run in <code>psirm_glucose/raw_data</code></li>
<li>Copy the required input files into each subfolder</li>
<li>Update the parameter of template file <code>combine-sets.R</code> file<a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a></li>
<li>Execute the script</li>
<li>Merged files have been generated and copied into the corresponding <code>input-folder/gc</code> or <code>input-folder/inc</code></li>
<li>Copy the renamed tsv-files separately into input/quant/…</li>
</ol>
</div>
<div id="annotation-file" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Annotation-file</h3>
<p>The annotation file relate file names with experimental conditions or specify quantification standards in your batch. Two columns - <strong>File and Type</strong> are obligatory and in the case of absence MTXQCvX_part1 stops and shows an error message.</p>
<ol style="list-style-type: decimal">
<li>Copy first row of quantMassAreaMatrix.csv file</li>
<li>Paste &amp; transpose the content into a new Excel-File</li>
<li>Rename Metabolite into File</li>
<li>Remove QuantMasses (last entry of the column)</li>
<li>Add column Type and specify either as sample or addQ1_dilution<a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a></li>
<li>Add further columns specifying your experimental conditions, e.g., Cellline and Treatment …<a href="#fn9" class="footnoteRef" id="fnref9"><sup>9</sup></a></li>
<li>Save as csv-file (folder: input/…)</li>
</ol>
</div>
<div id="sample_extracts-file" class="section level3">
<h3><span class="header-section-number">4.1.5</span> Sample_extracts-file</h3>
<p>The sample_extracts.csv file helps to determine correct absolute quantities in the manner of pmol/1e+6 cells or pmol/mg tissue.</p>
<p>Two columns are obligatory and have to be included: <strong>Extract_vol</strong> and <strong>Unit</strong><a href="#fn10" class="footnoteRef" id="fnref10"><sup>10</sup></a>. Please specify for each experimental condition that differs in extracted quantities. Column names of the experimental conditions have to match with the annotation file. Otherwise MTXQCvX2_part1 stops processing and throws an error message in the report. An example file can be modified and reused<a href="#fn11" class="footnoteRef" id="fnref11"><sup>11</sup></a>. Save the created file as csv-file into the input folder as well.</p>
</div>
<div id="internal-standard" class="section level3">
<h3><span class="header-section-number">4.1.6</span> Internal Standard</h3>
<p>MTXQCvX2 allows the specification of project-specific internal standards. Corresponding compounds have to be marked as an internal standard in the conversion_metabolite.csv file<a href="#fn12" class="footnoteRef" id="fnref12"><sup>12</sup></a>.</p>
<p>Peak areas for the defined compound are either generated by the export of cinAcidPeakGroups container in Maui, or could be extracted from the samplePeakGroups.csv file. Peak areas should be copied into a new csv-file and named InternalStandard. CinAcid-derived exported file shou be renamed, respectively.</p>
<p>The defined internal standards are listed with their complete name in the MTXQC report.</p>
</div>
</div>
<div id="metmax" class="section level2">
<h2><span class="header-section-number">4.2</span> Metmax</h2>
<p>This document describes how to use MTXQCvX2<a href="#fn13" class="footnoteRef" id="fnref13"><sup>13</sup></a> in combination with metmax<a href="#fn14" class="footnoteRef" id="fnref14"><sup>14</sup></a>.</p>
<p>Historically, MTXQCvX2 has been developed and optimized for Maui-derived input files. The MTXQCvX2-part4 functions as a converter of metmax-derived files in order to create suitable input formats for MTXQCvX-part1. This module could also be used to convert tables derived from other programs as long as they are confirm with the herein described tables. Mandatory columns are referenced in the text.</p>
<p>The general workflow of the NMTXQCvX2 project is briefly shown below in <strong>quick view</strong>. More detailed instructions are summarised in the following paragraphs. For more detailed explanations about the individual input parameter for each module of MTXQCvX2 please proceed to read the documentation about the individual modules and their knitting parameter<a href="#fn15" class="footnoteRef" id="fnref15"><sup>15</sup></a>. The relation of knitting parameter, input and output files are described in each section.</p>
<div id="quick-view-1" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Quick view</h3>
<ol style="list-style-type: decimal">
<li>Setup R-project and copy MTXQC-files</li>
<li>Knit with parameter: <code>MTXQC_init.Rmd</code></li>
<li>Copy input files</li>
<li>Create annotation.csv and sample_extracts.csv files<a href="#fn16" class="footnoteRef" id="fnref16"><sup>16</sup></a></li>
<li>Update metabolite names in <code>conversion_metabolite.csv</code><a href="#fn17" class="footnoteRef" id="fnref17"><sup>17</sup></a></li>
<li>Define the internal standard and/or alkanes<a href="#fn18" class="footnoteRef" id="fnref18"><sup>18</sup></a></li>
<li>Knit with parameter: <code>MTXQC_ExperimentalSetup.Rmd</code></li>
<li>Knit with parameter: <code>MTXQC_part4.Rmd</code></li>
<li>Knit with parameter: <code>MTXQC_part1.Rmd</code></li>
<li>Knit with parameter: <code>MTXQC_part2.Rmd</code></li>
<li>If required - proceed with MTXQC_part3 - ManualValidation<a href="#fn19" class="footnoteRef" id="fnref19"><sup>19</sup></a></li>
</ol>
</div>
<div id="input-files-derived-from-a-chromatofmetmax-project" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Input files derived from a ChromaToF/Metmax-Project</h3>
<p>If you need an introduction about how to use metmax have a look at the separate documentation<a href="#fn20" class="footnoteRef" id="fnref20"><sup>20</sup></a>.</p>
<ol style="list-style-type: decimal">
<li>Quantification - PeakAreas.csv<a href="#fn21" class="footnoteRef" id="fnref21"><sup>21</sup></a></li>
</ol>
<p>You need a file containing all extracted peak areas for each metabolite and file<a href="#fn22" class="footnoteRef" id="fnref22"><sup>22</sup></a>. The header of metmax-extracted files looks like shown below (see table 1). Please, remember to delete the second header row, representing the column loads for each file before saving as csv-file. Otherwise you end up with weird imported dataframes in R. Quantification masses have to be updated while processing in ChromaToF prior the export of the data e.g., with a reference search<a href="#fn23" class="footnoteRef" id="fnref23"><sup>23</sup></a> or using statistical compare. pSIRM experiments require the definition of pTop5 masses<a href="#fn24" class="footnoteRef" id="fnref24"><sup>24</sup></a> instead of top5 masses in the reference in order to take into account the shift of intensities induced by the application of stable isotopes<a href="#fn25" class="footnoteRef" id="fnref25"><sup>25</sup></a></p>
<table>
<caption>(#tab:metmax_header)Example metmax-extracted file containing peak areas.</caption>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="right">mass</th>
<th align="right">ri</th>
<th align="right">row.load</th>
<th align="right">file_1</th>
<th align="right">file_2</th>
<th align="right">file_x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Lac</td>
<td align="right">219</td>
<td align="right">1051</td>
<td align="right">0.76</td>
<td align="right">15423</td>
<td align="right">135444</td>
<td align="right">465486</td>
</tr>
<tr class="even">
<td align="left">Pyr</td>
<td align="right">174</td>
<td align="right">1042</td>
<td align="right">0.65</td>
<td align="right">56978</td>
<td align="right">46888</td>
<td align="right">4354544</td>
</tr>
<tr class="odd">
<td align="left">Cit</td>
<td align="right">273</td>
<td align="right">1805</td>
<td align="right">0.99</td>
<td align="right">1326</td>
<td align="right">23321</td>
<td align="right">132121</td>
</tr>
</tbody>
</table>
<p>MTXQCvX_part4 takes care of the formatting and correct column names of the peak areas file and saves it<a href="#fn26" class="footnoteRef" id="fnref26"><sup>26</sup></a>. MTXQCvX_part4 generates also the file PeakDensities-Chroma.csv<a href="#fn27" class="footnoteRef" id="fnref27"><sup>27</sup></a>, in case you have selected the option to include sum of area normalisation while knitting this module.</p>
<ol start="2" style="list-style-type: decimal">
<li>Isotope incorporation - MIDs.csv<a href="#fn28" class="footnoteRef" id="fnref28"><sup>28</sup></a></li>
</ol>
<p>In order to determine the incorporation of stable isotopes MTXQCvX2 requires as an input the mass isotopomer distributions (MIDs) for each intermediate and measurement<a href="#fn29" class="footnoteRef" id="fnref29"><sup>29</sup></a>. Fragments for each intermediate have to be pre-defined in metmax at Tools/Options/metabolite masses. They can be imported<a href="#fn30" class="footnoteRef" id="fnref30"><sup>30</sup></a> or manually specified each by each. An example of the metmax output is shown in table 2. The output has to be saved as csv-file, including the deletion of the partial row <code>column.load</code>, respectively<a href="#fn31" class="footnoteRef" id="fnref31"><sup>31</sup></a>.</p>
<table>
<caption>(#tab:metmax_header_mid)Example metmax-extracted file containing MIDs.</caption>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="right">mass</th>
<th align="right">ri</th>
<th align="right">row.load</th>
<th align="right">file_1</th>
<th align="right">file_2</th>
<th align="right">file_x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Lac</td>
<td align="right">219</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">31026</td>
<td align="right">5165829</td>
<td align="right">5829</td>
</tr>
<tr class="even">
<td align="left">Lac</td>
<td align="right">220</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">3607</td>
<td align="right">662277</td>
<td align="right">277</td>
</tr>
<tr class="odd">
<td align="left">Lac</td>
<td align="right">221</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">1222</td>
<td align="right">111481</td>
<td align="right">81</td>
</tr>
<tr class="even">
<td align="left">Lac</td>
<td align="right">222</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">188</td>
<td align="right">1003494</td>
<td align="right">10023</td>
</tr>
<tr class="odd">
<td align="left">Lac</td>
<td align="right">223</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">0</td>
<td align="right">33542</td>
<td align="right">342</td>
</tr>
</tbody>
</table>
<p>MTXQCvX_part4 calculates the stable isotope incorporation and exports DataMatrix.csv as well as pSIRM_SpectraData.csv<a href="#fn32" class="footnoteRef" id="fnref32"><sup>32</sup></a>. The mathematics behind are outlined in <span class="citation">(Pietzke et al. <a href="#ref-Pietzke2014">2014</a>)</span></p>
<p><strong>Important</strong>: Extracted MIDs have to match with defined mass couples for each metabolite in MTXQCvX2<a href="#fn33" class="footnoteRef" id="fnref33"><sup>33</sup></a>. Please refer for more details to <code>vignettes/config_mtx-files</code>.</p>
<ol start="4" style="list-style-type: decimal">
<li>Derivatisation efficiency - mz73.csv<a href="#fn34" class="footnoteRef" id="fnref34"><sup>34</sup></a></li>
</ol>
<p>The extraction of intensities for the ion <span class="math inline">\(m/z\)</span> 73 works analogous to the extraction of MIDs<a href="#fn35" class="footnoteRef" id="fnref35"><sup>35</sup></a>. Mass ranges have to be defined for each intermediate for the mass 73 by defining starting and end mass with 73. MTXQCvX_part4 generates the file MassSum-73.csv<a href="#fn36" class="footnoteRef" id="fnref36"><sup>36</sup></a>. Check <code>inst\template_files\</code> for reference. Hopefully soon a new metmax button extracting specific intensities across the batch.</p>
</div>
<div id="further-required-input-files" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Further required input-files</h3>
<ol style="list-style-type: decimal">
<li>Annotation-file</li>
</ol>
<p>The annotation file relate file names with experimental conditions or specify quantification standards in your batch. Two columns - <strong>File and Type</strong> are obligatory and in the case of absence MTXQCvX_part1 stops and shows an error message.</p>
<ol style="list-style-type: decimal">
<li>Copy first row of <code>quantMassAreaMatrix.csv</code> file</li>
<li>Paste &amp; transpose the content into a new Excel-File, first column</li>
<li>Rename Metabolite -&gt; File</li>
<li>Remove all other entries than file names (e.g., mass, ri)</li>
<li>Add column Type and specify either as sample or addQ1_dilution<a href="#fn37" class="footnoteRef" id="fnref37"><sup>37</sup></a></li>
<li>Add further columns specifying your experimental conditions, e.g., Cellline and Treatment …<a href="#fn38" class="footnoteRef" id="fnref38"><sup>38</sup></a></li>
<li><p>Save as csv-file<a href="#fn39" class="footnoteRef" id="fnref39"><sup>39</sup></a></p></li>
<li><p>Sample_extracts-file</p></li>
</ol>
<p>The sample_extracts.csv file helps to determine correct absolute quantities in the manner of pmol/1e+6 cells or pmol/mg tissue. Two columns are obligatory and have to be included: <strong>Extract_vol</strong> and <strong>Unit</strong><a href="#fn40" class="footnoteRef" id="fnref40"><sup>40</sup></a>. Please specify for each experimental condition that differs in extracted quantities. Column names of the experimental conditions have to match with the annotation file. Otherwise MTXQCvX2_part1 stops processing and throws an error message in the report. An example file can be modified and reused<a href="#fn41" class="footnoteRef" id="fnref41"><sup>41</sup></a>. Save the created file as csv-file into the input folder as well<a href="#fn42" class="footnoteRef" id="fnref42"><sup>42</sup></a>.</p>
<ol start="3" style="list-style-type: decimal">
<li>Conversion_metabolite.csv - Metabolite_manual</li>
</ol>
<p>Prior the analysis you need to match the names of your intermediates with the conversion_metabolite.csv file. You need to add the corresponding name for each intermediate in the column Metabolite_manual. General suggestion for naming conventions in ChromaToF: Metabolite_Derivate, optional in case of main- (MP) and byproducts (BP) Metabolite_Derivate_MP/BP. An example for both: Lactic acid_(2TMS) or Glucose_(1MEOX)(5TMS)_MP.</p>
<p>Missing intermediate can be added to this list. If you want to do so, please consultate the <code>vignette/config_mtx</code> first and follow the corresponding instructions how to extend conversion_metabolite.csv.</p>
<ol start="4" style="list-style-type: decimal">
<li>Conversion_metabolite.csv - Standards</li>
</ol>
<p>MTXQCvX2 allows the specification of project-specific internal standards. Corresponding compounds have to be marked as an internal standard in the conversion_metabolite.csv file<a href="#fn43" class="footnoteRef" id="fnref43"><sup>43</sup></a>. Accordingly, MTXQCvX+part4 extracts peak areas from peakarea-file and generates InternalStandard.csv<a href="#fn44" class="footnoteRef" id="fnref44"><sup>44</sup></a>.</p>
<p>In the same way alkanes are be defined in conversion_metabolite.csv. Each alkane has to be flag tagged with Alk in the column Standard<a href="#fn45" class="footnoteRef" id="fnref45"><sup>45</sup></a>. This gives you the opportunity to implement customizes mixtures of alkanes in order to determine the retention index. The in-lab approach considers nine alkanes from c10 to c36. MTXQCvX_part4 recognises the flag tag and generates based on peakarea-file Alcane_intensities.csv<a href="#fn46" class="footnoteRef" id="fnref46"><sup>46</sup></a>.</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Pietzke2014">
<p>Pietzke, Matthias, Christin Zasada, Susann Mudrich, and Stefan Kempa. 2014. “Decoding the Dynamics of Cellular Metabolism and the Action of 3-Bromopyruvate and 2-Deoxyglucose Using Pulsed Stable Isotope-Resolved Metabolomics.” <em>Cancer &amp; Metabolism</em> 2 (1): 9. doi:<a href="https://doi.org/10.1186/2049-3002-2-9">10.1186/2049-3002-2-9</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Check for the latest release: github.com/ChrisZasa/fluffy-adventure<a href="workflows.html#fnref1">↩</a></p></li>
<li id="fn2"><p>see below InternalStandard<a href="workflows.html#fnref2">↩</a></p></li>
<li id="fn3"><p>see more details below<a href="workflows.html#fnref3">↩</a></p></li>
<li id="fn4"><p>Location: Maui-project/export/QM-AbsoluteQuantification/…<a href="workflows.html#fnref4">↩</a></p></li>
<li id="fn5"><p>C://Users/User-name/MauiProjects/…<a href="workflows.html#fnref5">↩</a></p></li>
<li id="fn6"><p>Requires the selection of Natural_MIDs.txt<a href="workflows.html#fnref6">↩</a></p></li>
<li id="fn7"><p>inst/template_files/…<a href="workflows.html#fnref7">↩</a></p></li>
<li id="fn8"><p>additional quantification standards included in your setup, see for further details vignettes/additionalQuant<a href="workflows.html#fnref8">↩</a></p></li>
<li id="fn9"><p>optimal: two-three parameter, max: four parameter. Consider possible combinations, e.g., HCT116-control, HCT116-BPTES<a href="workflows.html#fnref9">↩</a></p></li>
<li id="fn10"><p>Define: count, mg or ul<a href="workflows.html#fnref10">↩</a></p></li>
<li id="fn11"><p>inst/template_files/…<a href="workflows.html#fnref11">↩</a></p></li>
<li id="fn12"><p>config_mtx/conversion_metabolites.csv, column Standard == InternalStandard<a href="workflows.html#fnref12">↩</a></p></li>
<li id="fn13"><p>Check for the latest release: github.com/ChrisZasa/fluffy-adventure<a href="workflows.html#fnref13">↩</a></p></li>
<li id="fn14"><p><a href="http://gmd.mpimp-golm.mpg.de/apps/metmax/default.htm" class="uri">http://gmd.mpimp-golm.mpg.de/apps/metmax/default.htm</a><a href="workflows.html#fnref14">↩</a></p></li>
<li id="fn15"><p><code>vignettes/MTXQCvX2_ParamDefinition</code><a href="workflows.html#fnref15">↩</a></p></li>
<li id="fn16"><p>Details further down this document<a href="workflows.html#fnref16">↩</a></p></li>
<li id="fn17"><p>Column: Metabolite_manual<a href="workflows.html#fnref17">↩</a></p></li>
<li id="fn18"><p>Also in conversion_metabolite.csv; see below paragraph Standards<a href="workflows.html#fnref18">↩</a></p></li>
<li id="fn19"><p>See <code>vignettes/MTXQCvX2_part3</code><a href="workflows.html#fnref19">↩</a></p></li>
<li id="fn20"><p><code>vignettes/Metmax_intro.csv</code><a href="workflows.html#fnref20">↩</a></p></li>
<li id="fn21"><p>Required for: all parameter, just not <code>calculation stable isotope incorporation</code><a href="workflows.html#fnref21">↩</a></p></li>
<li id="fn22"><p>Tools/Options/Retention analysis, Parameter: Area<a href="workflows.html#fnref22">↩</a></p></li>
<li id="fn23"><p>See <code>vignette/ReferenceSearch</code><a href="workflows.html#fnref23">↩</a></p></li>
<li id="fn24"><p>Extended list of quant masses considering isotope incorporation<a href="workflows.html#fnref24">↩</a></p></li>
<li id="fn25"><p>Mandatory columns: name, mass, files<a href="workflows.html#fnref25">↩</a></p></li>
<li id="fn26"><p><code>input/quant/quantMassAreasMatrix.csv</code><a href="workflows.html#fnref26">↩</a></p></li>
<li id="fn27"><p><code>input/gc/PeakDensities-Chroma.csv</code><a href="workflows.html#fnref27">↩</a></p></li>
<li id="fn28"><p>Required for <code>calculation isotope incorporation</code><a href="workflows.html#fnref28">↩</a></p></li>
<li id="fn29"><p>Tools/Options/Isotope concentrator; Parameter: IntensityOfMass<a href="workflows.html#fnref29">↩</a></p></li>
<li id="fn30"><p><code>inst/template_files/MetMax_MIDs.txt</code><a href="workflows.html#fnref30">↩</a></p></li>
<li id="fn31"><p>Mandatory columns: name, mass, files<a href="workflows.html#fnref31">↩</a></p></li>
<li id="fn32"><p><code>input/inc/DataMatrix</code> &amp; <code>pSIRM_SpectraData.csv</code><a href="workflows.html#fnref32">↩</a></p></li>
<li id="fn33"><p><code>config_mtx/incorpo_calc_masses.csv</code><a href="workflows.html#fnref33">↩</a></p></li>
<li id="fn34"><p>Required for: <code>sum of area normalisation</code><a href="workflows.html#fnref34">↩</a></p></li>
<li id="fn35"><p>Tools/Options/Isotope concentrator; Parameter: IntensityOfMass<a href="workflows.html#fnref35">↩</a></p></li>
<li id="fn36"><p><code>input/gc/MassSum-73.csv</code><a href="workflows.html#fnref36">↩</a></p></li>
<li id="fn37"><p>Additional quantification standards included in your setup, see for further details in chapter <span class="citation">(<span class="citeproc-not-found" data-reference-id="FAQ"><strong>???</strong></span>)</span><a href="workflows.html#fnref37">↩</a></p></li>
<li id="fn38"><p>Optimum: two-three parameter, max: four parameter. Consider possible combinations, e.g., HCT116-control, HCT116-BPTES<a href="workflows.html#fnref38">↩</a></p></li>
<li id="fn39"><p><code>input/Annotation.csv</code><a href="workflows.html#fnref39">↩</a></p></li>
<li id="fn40"><p>Unit = [count, mg, ul]<a href="workflows.html#fnref40">↩</a></p></li>
<li id="fn41"><p><code>inst/template_files/...</code><a href="workflows.html#fnref41">↩</a></p></li>
<li id="fn42"><p><code>input/Sample_extracts.csv</code><a href="workflows.html#fnref42">↩</a></p></li>
<li id="fn43"><p><code>config_mtx/conversion_metabolites.csv</code>, column Standard == InternalStandard<a href="workflows.html#fnref43">↩</a></p></li>
<li id="fn44"><p><code>input/gc/InternalStandard.csv</code><a href="workflows.html#fnref44">↩</a></p></li>
<li id="fn45"><p><code>config_mtx/conversion_metabolites.csv</code>, column Standard == Alk<a href="workflows.html#fnref45">↩</a></p></li>
<li id="fn46"><p><code>input/gc/Alcane_intensities.csv</code>, (it should be alkane, I know, but Maui doesn’t…)<a href="workflows.html#fnref46">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="universe.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="config.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["MTXQC_documentation.pdf", "MTXQC_documentation.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
