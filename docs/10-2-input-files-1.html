<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="MTXQCvX2 documentation" />
<meta property="og:type" content="book" />


<meta property="og:description" content="This is the start of the official MTXQCvX2 manual." />
<meta name="github-repo" content="chriszasa/MTXQC_documentation" />

<meta name="author" content="Christin Zasada" />

<meta name="date" content="2018-10-25" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="This is the start of the official MTXQCvX2 manual.">

<title>MTXQCvX2 documentation</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#welcome"><span class="toc-section-number">1</span> Welcome</a></li>
<li><a href="2-intro.html#intro"><span class="toc-section-number">2</span> Introduction</a></li>
<li><a href="3-init.html#init"><span class="toc-section-number">3</span> MTXQCvX2_init</a></li>
<li class="has-sub"><a href="4-maui.html#maui"><span class="toc-section-number">4</span> Workflow for Maui-annotation proejcts</a><ul>
<li><a href="4-1-quick-view.html#quick-view"><span class="toc-section-number">4.1</span> Quick view</a></li>
<li><a href="4-2-input-files.html#input-files"><span class="toc-section-number">4.2</span> Input files</a></li>
<li><a href="4-3-annotation-file.html#annotation-file"><span class="toc-section-number">4.3</span> Annotation-file</a></li>
<li><a href="4-4-sample-extracts-file.html#sample_extracts-file"><span class="toc-section-number">4.4</span> Sample_extracts-file</a></li>
<li><a href="4-5-internal-standard.html#internal-standard"><span class="toc-section-number">4.5</span> Internal Standard</a></li>
</ul></li>
<li class="has-sub"><a href="5-metmax.html#metmax"><span class="toc-section-number">5</span> Workflow for Metmax-extracted projects</a><ul>
<li><a href="5-1-you-want-to-follow-this.html#you-want-to-follow-this"><span class="toc-section-number">5.1</span> You want to follow this …</a></li>
<li><a href="5-2-introduction.html#introduction"><span class="toc-section-number">5.2</span> Introduction</a></li>
<li><a href="5-3-quick-view-1.html#quick-view-1"><span class="toc-section-number">5.3</span> Quick view</a></li>
<li><a href="5-4-required-input-files-derived-from-a-chromatofmetmax.html#required-input-files-derived-from-a-chromatofmetmax"><span class="toc-section-number">5.4</span> Required input files derived from a ChromaToF/Metmax</a></li>
<li><a href="5-5-annotation-file-1.html#annotation-file-1"><span class="toc-section-number">5.5</span> Annotation-file</a></li>
<li><a href="5-6-sample-extracts-file-1.html#sample_extracts-file-1"><span class="toc-section-number">5.6</span> Sample_extracts-file</a></li>
<li class="has-sub"><a href="5-7-conversion-metabolite-csv.html#conversion_metabolite.csv"><span class="toc-section-number">5.7</span> Conversion_metabolite.csv</a><ul>
<li><a href="5-7-conversion-metabolite-csv.html#match-your-annotation-with-library-names"><span class="toc-section-number">5.7.1</span> Match your annotation with library names</a></li>
<li><a href="5-7-conversion-metabolite-csv.html#define-your-internal-standards-and-alkanes"><span class="toc-section-number">5.7.2</span> Define your internal standards and alkanes</a></li>
</ul></li>
</ul></li>
<li><a href="6-mtxqcvx-experimentalsetup-rmd.html#mtxqcvx_experimentalsetup.rmd"><span class="toc-section-number">6</span> MTXQCvX_experimentalSetup.Rmd</a></li>
<li><a href="7-mtxqcvx-part1-rmd.html#mtxqcvx_part1.rmd"><span class="toc-section-number">7</span> MTXQCvX_part1.Rmd</a></li>
<li><a href="8-mtxqcvx-part2-rmd.html#mtxqcvx_part2.rmd"><span class="toc-section-number">8</span> MTXQCvX_part2.Rmd</a></li>
<li><a href="9-mtxqcvx-part3-rmd.html#mtxqcvx_part3.rmd"><span class="toc-section-number">9</span> MTXQCvX_part3.Rmd</a></li>
<li class="has-sub"><a href="10-mtxqcvx-part4-rmd-metmax-parser.html#mtxqcvx_part4.rmd---metmax-parser"><span class="toc-section-number">10</span> MTXQCvX_part4.Rmd - Metmax parser</a><ul>
<li><a href="10-1-this-section-explains.html#this-section-explains"><span class="toc-section-number">10.1</span> This section explains …</a></li>
<li class="has-sub"><a href="10-2-input-files-1.html#input-files-1"><span class="toc-section-number">10.2</span> Input files</a><ul>
<li><a href="10-2-input-files-1.html#quantification---peakareas.csv"><span class="toc-section-number">10.2.1</span> Quantification - PeakAreas.csv</a></li>
<li><a href="10-2-input-files-1.html#isotope-incorporation---mids.csv"><span class="toc-section-number">10.2.2</span> Isotope incorporation - MIDs.csv</a></li>
<li><a href="10-2-input-files-1.html#derivatisation-efficiency---mz73.csv"><span class="toc-section-number">10.2.3</span> Derivatisation efficiency - mz73.csv</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="11-config.html#config"><span class="toc-section-number">11</span> Configuration of MTXQCvX2</a><ul>
<li><a href="11-1-conversion-metabolite-csv-1.html#conversion_metabolite.csv-1"><span class="toc-section-number">11.1</span> conversion_metabolite.csv</a></li>
<li><a href="11-2-metabolic-profile.html#metabolic-profile"><span class="toc-section-number">11.2</span> Metabolic profile</a></li>
<li><a href="11-3-defintion-of-intermediates.html#defintion-of-intermediates"><span class="toc-section-number">11.3</span> Defintion of intermediates</a></li>
<li class="has-sub"><a href="11-4-declaration-of-standards.html#declaration-of-standards"><span class="toc-section-number">11.4</span> Declaration of standards</a><ul>
<li><a href="11-4-declaration-of-standards.html#internal-standard-1"><span class="toc-section-number">11.4.1</span> Internal standard</a></li>
<li><a href="11-4-declaration-of-standards.html#alkanes"><span class="toc-section-number">11.4.2</span> Alkanes</a></li>
<li><a href="11-4-declaration-of-standards.html#quant1-values.csv"><span class="toc-section-number">11.4.3</span> quant1-values.csv</a></li>
<li><a href="11-4-declaration-of-standards.html#incorporation_calc.csv"><span class="toc-section-number">11.4.4</span> incorporation_calc.csv</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="12-protocols.html#protocols"><span class="toc-section-number">12</span> Protocols</a><ul>
<li><a href="12-1-sample-extraction.html#sample-extraction"><span class="toc-section-number">12.1</span> Sample extraction</a></li>
<li><a href="12-2-sample-derivatisation.html#sample-derivatisation"><span class="toc-section-number">12.2</span> Sample derivatisation</a></li>
<li><a href="12-3-gc-ms-measurement.html#gc-ms-measurement"><span class="toc-section-number">12.3</span> GC-MS measurement</a></li>
<li class="has-sub"><a href="12-4-data-processing.html#data-processing"><span class="toc-section-number">12.4</span> Data processing</a><ul>
<li><a href="12-4-data-processing.html#processing-for-maui-annotation"><span class="toc-section-number">12.4.1</span> Processing for Maui annotation</a></li>
<li><a href="12-4-data-processing.html#processing-for-metmax-data-extraction"><span class="toc-section-number">12.4.2</span> Processing for Metmax data extraction</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="13-FAQ.html#FAQ"><span class="toc-section-number">13</span> Frequently Asked Questions</a><ul>
<li><a href="13-1-what-are-additional-quantification-standards.html#what-are-additional-quantification-standards"><span class="toc-section-number">13.1</span> What are additional quantification standards</a></li>
<li><a href="13-2-how-do-i-extend-conversion-metabolite-csv.html#how-do-i-extend-conversion_metabolite.csv"><span class="toc-section-number">13.2</span> How do I extend conversion_metabolite.csv</a></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="input-files-1" class="section level2">
<h2><span class="header-section-number">10.2</span> Input files</h2>
<div id="quantification---peakareas.csv" class="section level3">
<h3><span class="header-section-number">10.2.1</span> Quantification - PeakAreas.csv<a href="#fn16" class="footnoteRef" id="fnref16"><sup>16</sup></a></h3>
<p>In order to perform absolute quantification of</p>
<p>You need a file containing all extracted peak areas for each metabolite and file<a href="#fn17" class="footnoteRef" id="fnref17"><sup>17</sup></a>. The header of metmax-extracted files looks like shown below (see table 1). Please, remember to delete the second header row, representing the column loads for each file before saving as csv-file. Otherwise you end up with weird imported dataframes in R. Quantification masses have to be updated while processing in ChromaToF prior the export of the data e.g., with a reference search<a href="#fn18" class="footnoteRef" id="fnref18"><sup>18</sup></a> or using statistical compare. pSIRM experiments require the definition of pTop5 masses<a href="#fn19" class="footnoteRef" id="fnref19"><sup>19</sup></a> instead of top5 masses in the reference in order to take into account the shift of intensities induced by the application of stable isotopes<a href="#fn20" class="footnoteRef" id="fnref20"><sup>20</sup></a></p>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="right">mass</th>
<th align="right">ri</th>
<th align="right">row.load</th>
<th align="right">file_1</th>
<th align="right">file_2</th>
<th align="right">file_x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Lac</td>
<td align="right">219</td>
<td align="right">1051</td>
<td align="right">0.76</td>
<td align="right">15423</td>
<td align="right">135444</td>
<td align="right">465486</td>
</tr>
<tr class="even">
<td align="left">Pyr</td>
<td align="right">174</td>
<td align="right">1042</td>
<td align="right">0.65</td>
<td align="right">56978</td>
<td align="right">46888</td>
<td align="right">4354544</td>
</tr>
<tr class="odd">
<td align="left">Cit</td>
<td align="right">273</td>
<td align="right">1805</td>
<td align="right">0.99</td>
<td align="right">1326</td>
<td align="right">23321</td>
<td align="right">132121</td>
</tr>
</tbody>
</table>
<p>MTXQCvX_part4 takes care of the formatting and correct column names of the peak areas file and saves it<a href="#fn21" class="footnoteRef" id="fnref21"><sup>21</sup></a>. MTXQCvX_part4 generates also the file PeakDensities-Chroma.csv<a href="#fn22" class="footnoteRef" id="fnref22"><sup>22</sup></a>, in case you have selected the option to include sum of area normalisation while knitting this module.</p>
</div>
<div id="isotope-incorporation---mids.csv" class="section level3">
<h3><span class="header-section-number">10.2.2</span> Isotope incorporation - MIDs.csv<a href="#fn23" class="footnoteRef" id="fnref23"><sup>23</sup></a></h3>
<p>In order to determine the incorporation of stable isotopes MTXQCvX2 requires as an input the mass isotopomer distributions (MIDs) for each intermediate and measurement<a href="#fn24" class="footnoteRef" id="fnref24"><sup>24</sup></a>. Fragments for each intermediate have to be pre-defined in metmax at Tools/Options/metabolite masses. They can be imported<a href="#fn25" class="footnoteRef" id="fnref25"><sup>25</sup></a> or manually specified each by each. An example of the metmax output is shown in table 2. The output has to be saved as csv-file, including the deletion of the partial row <code>column.load</code>, respectively<a href="#fn26" class="footnoteRef" id="fnref26"><sup>26</sup></a>.</p>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="right">mass</th>
<th align="right">ri</th>
<th align="right">row.load</th>
<th align="right">file_1</th>
<th align="right">file_2</th>
<th align="right">file_x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Lac</td>
<td align="right">219</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">31026</td>
<td align="right">5165829</td>
<td align="right">5829</td>
</tr>
<tr class="even">
<td align="left">Lac</td>
<td align="right">220</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">3607</td>
<td align="right">662277</td>
<td align="right">277</td>
</tr>
<tr class="odd">
<td align="left">Lac</td>
<td align="right">221</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">1222</td>
<td align="right">111481</td>
<td align="right">81</td>
</tr>
<tr class="even">
<td align="left">Lac</td>
<td align="right">222</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">188</td>
<td align="right">1003494</td>
<td align="right">10023</td>
</tr>
<tr class="odd">
<td align="left">Lac</td>
<td align="right">223</td>
<td align="right">1051</td>
<td align="right">0.85</td>
<td align="right">0</td>
<td align="right">33542</td>
<td align="right">342</td>
</tr>
</tbody>
</table>
<p>MTXQCvX_part4 calculates the stable isotope incorporation and exports DataMatrix.csv as well as pSIRM_SpectraData.csv<a href="#fn27" class="footnoteRef" id="fnref27"><sup>27</sup></a>. The mathematics behind are outlined in <span class="citation">(Pietzke et al. <a href="#ref-Pietzke2014">2014</a>)</span></p>
<p><strong>Important</strong>: Extracted MIDs have to match with defined mass couples for each metabolite in MTXQCvX2<a href="#fn28" class="footnoteRef" id="fnref28"><sup>28</sup></a>. Please refer for more details to <code>vignettes/config_mtx-files</code>.</p>
</div>
<div id="derivatisation-efficiency---mz73.csv" class="section level3">
<h3><span class="header-section-number">10.2.3</span> Derivatisation efficiency - mz73.csv<a href="#fn29" class="footnoteRef" id="fnref29"><sup>29</sup></a></h3>
<p>The extraction of intensities for the ion <span class="math inline">\(m/z\)</span> 73 works analogous to the extraction of MIDs<a href="#fn30" class="footnoteRef" id="fnref30"><sup>30</sup></a>. Mass ranges have to be defined for each intermediate for the mass 73 by defining starting and end mass with 73. MTXQCvX_part4 generates the file MassSum-73.csv<a href="#fn31" class="footnoteRef" id="fnref31"><sup>31</sup></a>. Check <code>inst\template_files\</code> for reference. Hopefully soon a new metmax button extracting specific intensities across the batch.</p>

</div>
</div>
<!-- </div> -->
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Pietzke2014">
<p>Pietzke, Matthias, Christin Zasada, Susann Mudrich, and Stefan Kempa. 2014. “Decoding the Dynamics of Cellular Metabolism and the Action of 3-Bromopyruvate and 2-Deoxyglucose Using Pulsed Stable Isotope-Resolved Metabolomics.” <em>Cancer &amp; Metabolism</em> 2 (1): 9. doi:<a href="https://doi.org/10.1186/2049-3002-2-9">10.1186/2049-3002-2-9</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="16">
<li id="fn16"><p>Required for: all parameter, just not <code>calculation stable isotope incorporation</code><a href="10-2-input-files-1.html#fnref16">↩</a></p></li>
<li id="fn17"><p>Tools/Options/Retention analysis, Parameter: Area<a href="10-2-input-files-1.html#fnref17">↩</a></p></li>
<li id="fn18"><p>See <code>vignette/ReferenceSearch</code><a href="10-2-input-files-1.html#fnref18">↩</a></p></li>
<li id="fn19"><p>Extended list of quant masses considering isotope incorporation<a href="10-2-input-files-1.html#fnref19">↩</a></p></li>
<li id="fn20"><p>Mandatory columns: name, mass, files<a href="10-2-input-files-1.html#fnref20">↩</a></p></li>
<li id="fn21"><p><code>input/quant/quantMassAreasMatrix.csv</code><a href="10-2-input-files-1.html#fnref21">↩</a></p></li>
<li id="fn22"><p><code>input/gc/PeakDensities-Chroma.csv</code><a href="10-2-input-files-1.html#fnref22">↩</a></p></li>
<li id="fn23"><p>Required for <code>calculation isotope incorporation</code><a href="10-2-input-files-1.html#fnref23">↩</a></p></li>
<li id="fn24"><p>Tools/Options/Isotope concentrator; Parameter: IntensityOfMass<a href="10-2-input-files-1.html#fnref24">↩</a></p></li>
<li id="fn25"><p><code>inst/template_files/MetMax_MIDs.txt</code><a href="10-2-input-files-1.html#fnref25">↩</a></p></li>
<li id="fn26"><p>Mandatory columns: name, mass, files<a href="10-2-input-files-1.html#fnref26">↩</a></p></li>
<li id="fn27"><p><code>input/inc/DataMatrix</code> &amp; <code>pSIRM_SpectraData.csv</code><a href="10-2-input-files-1.html#fnref27">↩</a></p></li>
<li id="fn28"><p><code>config_mtx/incorpo_calc_masses.csv</code><a href="10-2-input-files-1.html#fnref28">↩</a></p></li>
<li id="fn29"><p>Required for: <code>sum of area normalisation</code><a href="10-2-input-files-1.html#fnref29">↩</a></p></li>
<li id="fn30"><p>Tools/Options/Isotope concentrator; Parameter: IntensityOfMass<a href="10-2-input-files-1.html#fnref30">↩</a></p></li>
<li id="fn31"><p><code>input/gc/MassSum-73.csv</code><a href="10-2-input-files-1.html#fnref31">↩</a></p></li>
</ol>
</div>
<p style="text-align: center;">
<a href="10-1-this-section-explains.html"><button class="btn btn-default">Previous</button></a>
<a href="11-config.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
